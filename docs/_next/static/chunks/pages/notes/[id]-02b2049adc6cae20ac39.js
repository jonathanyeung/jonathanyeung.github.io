(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{96036:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(25903),o=n(96486),r=n.n(o),a=n(2962),c=n(28861),s=n(1076),d=n(85893),u=function(t){return i.Time.DateTime.fromMillis(r().toInteger(t)).setZone("utc").toLocaleString("yyyy-LL-dd")};function l(t){var e=t.note,n=t.config,o=(0,c.vm)().router.asPath;if(r().some(["403","changelog"],(function(t){return o==="/notes/".concat(t,"/")})))return null;var l=i.PublishUtils.getSEOPropsFromConfig(n),f=i.PublishUtils.getSEOPropsFromNote(e),p=r().defaults(f,l),h=p.title,g=p.excerpt,m=null!==p&&void 0!==p&&p.image?[p.image]:[],x=function(t){var e=t.sitePath,n=t.seoProps,i=t.siteConfig;return n.canonicalBaseUrl?[i.siteUrl,e].join(""):n.canonicalUrl?n.canonicalUrl:[i.canonicalBaseUrl?i.canonicalBaseUrl:(0,s.N0)(i),e].join("")}({sitePath:o,seoProps:p,siteConfig:n.site}),v=p.twitter?{handle:p.twitter,site:p.twitter,cardType:"summary_large_image"}:void 0;return(0,d.jsx)(a.PB,{title:h,description:g,canonical:x,noindex:p.noindex,twitter:v,openGraph:{title:h,description:g,url:x,images:m,type:"article",article:{publishedTime:u(p.created),modifiedTime:u(p.updated),tags:function(t){return t.tags?Array.isArray(t.tags)?t.tags:[t.tags]:[]}(e)}}})}},75276:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return T},default:function(){return j}});var i=n(30266),o=n(66311),r=n(10219),a=n(809),c=n.n(a),s=n(4604),d=n(96486),u=n.n(d),l=n(11163),f=n(67294),p=n(96036),h=n(9008),g=n(23894),m=n(85893);function x(t){var e=t.content,n=(0,g.ZP)(e);return(0,m.jsx)(h.default,{children:n})}var v=n(77103),y=n(1076),_=n(41664),N=n(99490);function w(t){var e,n,i,o=t.note,r=t.noteIndex,a=(0,y.gt)({note:o,noteIndex:r});try{e=u().get(o,"custom.date",!1)?(n=o.custom.date,i=N.DateTime.DATE_SHORT,N.DateTime.fromISO(n).toLocaleString(i)):function(t,e){return N.DateTime.fromMillis(t).toLocaleString(e)}(o.created,N.DateTime.DATE_SHORT)}catch(c){throw Error("no date found for note ".concat(o.id))}return(0,m.jsx)("div",{children:(0,m.jsxs)("article",{itemScope:!0,itemType:"https://schema.org/CreativeWork",children:[(0,m.jsx)("h2",{itemProp:"headline",children:(0,m.jsx)(_.default,{href:a,children:o.title})}),!u().isUndefined(e)&&(0,m.jsx)("p",{children:e}),u().has(o,"custom.excerpt")&&(0,m.jsx)("p",{itemProp:"description",children:o.custom.excerpt})]})})}var L=n(21553),S=n(29476),P=["note","body","collectionChildren","noteIndex","customHeadContent","config"],T=!0;function j(t){var e,n=t.note,a=t.body,d=t.collectionChildren,h=t.noteIndex,g=t.customHeadContent,y=t.config,_=((0,r.Z)(t,P),(0,s.createLogger)("Note")),N=(0,l.useRouter)(),T=f.useState(void 0),j=(0,o.Z)(T,2),E=j[0],U=j[1],C=N.query.id,D=(0,L.$s)(),I=(0,L.O5)((function(t){return t.engine}));_.info({ctx:"enter",id:C}),f.useEffect((function(){if(_.info({ctx:"updateNoteBody:enter",id:C}),u().isUndefined(C))_.info({ctx:"updateNoteBody:exit",id:C,state:"id undefined"});else{if(C===n.id)return D(S.w.Nw.setLoadingStatus(s.LoadingStatus.FULFILLED)),void _.info({ctx:"updateNoteBody:exit",id:C,state:"id = note.id"});_.info({ctx:"updateNoteBody:fetch:pre",id:C}),fetch("/data/notes/".concat(C,".html")).then(function(){var t=(0,i.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _.info({ctx:"updateNoteBody:fetch:post",id:C}),t.next=3,e.text();case 3:n=t.sent,U(n),D(S.w.Nw.setLoadingStatus(s.LoadingStatus.FULFILLED));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),[C]);var B=C===n.id?a:E;if(u().isUndefined(B)||I.loading===s.LoadingStatus.PENDING)return(0,m.jsx)(v.Z,{});var O=null!==(e=n.custom)&&void 0!==e&&e.has_collection?d.map((function(t){return w({note:t,noteIndex:h})})):null;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.Z,{note:n,config:y}),g&&(0,m.jsx)(x,{content:g}),(0,m.jsx)(s.DendronNote,{noteContent:B}),O]})}},12016:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/[id]",function(){return n(75276)}])}},function(t){t.O(0,[962,935,774,888,179],(function(){return e=12016,t(t.s=e);var e}));var e=t.O();_N_E=e}]);